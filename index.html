<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Consumo de OP</title>
    <link rel="stylesheet" href="style.css">
</head>
    <style>
        body {
    font-family: Arial, sans-serif;
    background-color: #f0f4f8;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

.container {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    width: 400px;
}

h1 {
    text-align: center;
    color: #333;
}

label {
    display: block;
    margin-top: 10px;
}

input {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border: 1px solid #ddd;
    border-radius: 5px;
}

button {
    width: 100%;
    padding: 10px;
    margin-top: 15px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

button:hover {
    background-color: #0056b3;
}

.results-section {
    margin-top: 20px;
}

.progress-bar-container {
    position: relative;
    height: 30px;
    background-color: #ddd;
    border-radius: 5px;
    margin-top: 20px;
    overflow: hidden;
}

.progress-bar, .residue-bar {
    height: 100%;
    position: absolute;
}

.progress-bar {
    background-color: #28a745;
    width: 0;
}

.residue-bar {
    background-color: #ffc107;
    right: 0;
}

    </style>
<body>
    <div class="container">
        <h1>Controle de Consumo de OP</h1>
        <div class="form-section" id="form-section">
            <label for="op">OP:</label>
            <input type="text" id="op" placeholder="Digite o número da OP">

            <label for="metragem-op">Metragem da OP (m):</label>
            <input type="number" id="metragem-op" placeholder="Digite a metragem da OP">

            <label for="er">ER (m/s):</label>
            <input type="number" id="er" step="0.01" placeholder="Digite o ER">

            <label for="eficiencia">Eficiência (%):</label>
            <input type="number" id="eficiencia" step="0.01" placeholder="Digite a eficiência">

            <button id="start-process">Iniciar Processo</button>
        </div>

        <div class="results-section" id="results-section" style="display:none;">
            <p><strong>Tempo de Consumo da OP:</strong> <span id="tempo-consumo">0</span> s</p>
            <p><strong>Velocidade de Consumo:</strong> <span id="velocidade-consumo">0</span> m/s</p>

            <label for="metragem-bobina-entrada">Metragem da Bobina de Entrada (m):</label>
            <input type="number" id="metragem-bobina-entrada">

            <label for="metragem-bobina-saida">Metragem da Bobina de Saída (m):</label>
            <input type="number" id="metragem-bobina-saida">
            <button id="add-bobina">Adicionar Bobina</button>
        </div>

        <div class="progress-bar-container" id="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
            <div class="residue-bar" id="residue-bar"></div>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        document.getElementById('start-process').addEventListener('click', () => {
    const metragemOP = parseFloat(document.getElementById('metragem-op').value);
    const er = parseFloat(document.getElementById('er').value);
    const eficiencia = parseFloat(document.getElementById('eficiencia').value) / 100;

    const tempoConsumo = (metragemOP / er) * (1 + eficiencia);
    const velocidadeConsumo = metragemOP / tempoConsumo;

    document.getElementById('tempo-consumo').textContent = tempoConsumo.toFixed(2);
    document.getElementById('velocidade-consumo').textContent = velocidadeConsumo.toFixed(2);

    document.getElementById('results-section').style.display = 'block';

    let totalMetragemEntrada = 0;
    let totalMetragemSaida = 0;

    document.getElementById('add-bobina').addEventListener('click', () => {
        const metragemEntrada = parseFloat(document.getElementById('metragem-bobina-entrada').value) || 0;
        const metragemSaida = parseFloat(document.getElementById('metragem-bobina-saida').value) || 0;

        totalMetragemEntrada += metragemEntrada;
        totalMetragemSaida += metragemSaida;

        const residuo = totalMetragemEntrada - totalMetragemSaida;
        atualizarBarra(metragemOP, totalMetragemEntrada, residuo);
    });

    function atualizarBarra(metragemOP, totalEntrada, residuo) {
        const progress = (totalEntrada / metragemOP) * 100;
        const residueProgress = (residuo / metragemOP) * 100;

        document.getElementById('progress-bar').style.width = `${progress}%`;
        document.getElementById('residue-bar').style.width = `${residueProgress}%`;
    }
});

    </script>
</body>
</html>

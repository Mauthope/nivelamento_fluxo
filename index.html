<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Consumo de OP</title>
    <link rel="stylesheet" href="style.css">
</head>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f4f8;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }
    .container {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 450px;
        margin-top: 20px;
    }
    h1 {
        text-align: center;
    }
    label {
        display: block;
        margin-top: 10px;
    }
    input {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    button {
        width: 100%;
        padding: 10px;
        margin-top: 15px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    button:hover {
        background-color: #0056b3;
    }
    .progress-bar-container {
        margin-top: 20px;
        background-color: #e0e0e0;
        border-radius: 5px;
        overflow: hidden;
        position: relative;
        height: 30px;
    }
    .progress-bar {
        height: 100%;
        position: absolute;
        transition: width 0.5s ease-in-out;
    }
    #progress-op {
        background-color: #007bff;
    }
    #progress-bobina-inicial {
        background-color: #28a745;
    }
    #progress-consumo {
        background-color: #90ee90;
    }
    #progress-saida {
        background-color: #dc3545;
    }
    .marcacoes {
        position: relative;
        margin-top: 10px;
    }
    .marcacao {
        font-size: 12px;
        color: #333;
        margin-right: 10px;
    }
</style>
<body>
    <div class="container">
        <h1>Controle de Consumo de OP</h1>
        <label for="metragem-op">Metragem da OP (m):</label>
        <input type="number" id="metragem-op" placeholder="Digite a metragem da OP">

        <button id="start-process">Iniciar Processo</button>
        <div class="progress-bar-container" id="progress-bar-op">
            <div class="progress-bar" id="progress-op"></div>
        </div>
        <div class="marcacoes" id="marcacoes-op"></div>

        <label for="metragem-bobina-entrada">Metragem da Bobina de Entrada:</label>
        <input type="number" id="metragem-bobina-entrada">
        <button id="add-bobina">Adicionar Bobina de Entrada</button>

        <div class="progress-bar-container" id="progress-bar-saida">
            <div class="progress-bar" id="progress-saida"></div>
        </div>
        <div class="marcacoes" id="marcacoes-saida"></div>
    </div>

    <script>
        let metragemOP = 0;
        let totalMetragemEntrada = 0;
        let totalMetragemSaida = 0;
        let contadorBobinasEntrada = 1;

        document.getElementById('start-process').addEventListener('click', () => {
            metragemOP = parseFloat(document.getElementById('metragem-op').value);
            atualizarBarraOP();
        });

        document.getElementById('add-bobina').addEventListener('click', () => {
            const metragemEntrada = parseFloat(document.getElementById('metragem-bobina-entrada').value) || 0;
            totalMetragemEntrada += metragemEntrada;

            adicionarMarcacaoBobina(totalMetragemEntrada, contadorBobinasEntrada);
            contadorBobinasEntrada++;
            atualizarBarraOP();
        });

        function atualizarBarraOP() {
            const progress = (totalMetragemEntrada / metragemOP) * 100;
            document.getElementById('progress-op').style.width = `${progress}%`;
            atualizarMarcacoes();
        }

        function adicionarMarcacaoBobina(metragem, numeroBobina) {
            const marcacao = document.createElement('span');
            marcacao.classList.add('marcacao');
            marcacao.textContent = `Bobina ${numeroBobina}: ${metragem.toFixed(2)}m`;
            document.getElementById('marcacoes-op').appendChild(marcacao);
        }

        function atualizarMarcacoes() {
            const marcacoes = document.getElementById('marcacoes-op').children;
            for (let i = 0; i < marcacoes.length; i++) {
                const posicao = parseFloat(marcacoes[i].textContent.split(': ')[1]);
                const leftPos = (posicao / metragemOP) * 100;
                marcacoes[i].style.position = 'absolute';
                marcacoes[i].style.left = `${leftPos}%`;
            }
        }
    </script>
</body>
</html>
